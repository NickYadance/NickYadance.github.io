<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Mysql on</title><link>https://nickyadance.github.io/docs/eng/mysql/</link><description>Recent content in Mysql on</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Thu, 08 Sep 2022 17:38:53 +0800</lastBuildDate><atom:link href="https://nickyadance.github.io/docs/eng/mysql/index.xml" rel="self" type="application/rss+xml"/><item><title>Conf</title><link>https://nickyadance.github.io/docs/eng/mysql/conf/</link><pubDate>Tue, 22 Nov 2022 10:58:40 +0800</pubDate><guid>https://nickyadance.github.io/docs/eng/mysql/conf/</guid><description>Host
Cpu: 64C Mem: 256GB Disk: SSD Initialize conf
[mysqld] max_connections = 1024 innodb_buffer_pool_size = 137438953472 # 128GB, 60-80% of the mem innodb_buffer_pool_chunk_size = 1073741824 # 1G innodb_buffer_pool_instances = 8 # 8-16 if innodb_buffer_pool_chunk_size &amp;gt;= 1G, else &amp;lt;8 innodb_flush_log_at_trx_commit = 0 # 0,1,2, take care the data safety innodb_log_buffer_size = 1073741824 # 1G innodb_log_file_size = 4294967296 # 4G tmp_table_size = 134217728 max_heap_table_size = 134217728 slow_query_log = 1 long_query_time = 5 binlog_expire_logs_seconds = 3600 innodb_page_cleaners = 4 innodb_read_io_threads = 16 innodb_write_io_threads = 16</description></item><item><title>Backup</title><link>https://nickyadance.github.io/docs/eng/mysql/backup/</link><pubDate>Mon, 31 Oct 2022 16:33:44 +0800</pubDate><guid>https://nickyadance.github.io/docs/eng/mysql/backup/</guid><description>Concepts # Cold Backup Full backup when database server is not running, less frequent.
Hot Backup Full backup when database server is running and serving.
Warn Backup Full backup when database server is running, but locking some tables.
Incremental Backup Partial backup when database server is running, containing only data(updates) since the last backup.
Binlog Binary format logs containing data updates. Non-Idempotent(different from MongoDB).
Mysqldump &amp;amp; Binlog # DON&amp;rsquo;T use mysqldump to busy databases cuz the table locking can potentially hang all your requests for a long time.</description></item><item><title>Lock</title><link>https://nickyadance.github.io/docs/eng/mysql/lock/</link><pubDate>Tue, 11 Oct 2022 18:36:36 +0800</pubDate><guid>https://nickyadance.github.io/docs/eng/mysql/lock/</guid><description>Setup CREATE DATABASE study; USE study; CREATE TABLE student_scores ( id int(11) NOT NULL, name varchar(100) NOT NULL, age tinyint(4) NOT NULL, score int(11) NOT NULL, PRIMARY KEY (id), KEY idx_name (name), KEY idx_age (age) ); INSERT INTO student_scores (id, name, age, score) VALUES (10, 'John', 11, 70), (20, 'Tom', 12, 90), (30, 'Jerry', 15, 95), (40, 'Jack', 13, 80), (50, 'Rose', 14, 85) ; SET GLOBAL innodb_status_output_locks=1; SHOW ENGINE INNODB STATUS; mysql&amp;gt; select LOCK_TYPE, LOCK_MODE, LOCK_STATUS, LOCK_DATA from performance_schema.</description></item><item><title>Isolation</title><link>https://nickyadance.github.io/docs/eng/mysql/isolation/</link><pubDate>Tue, 27 Sep 2022 16:15:41 +0800</pubDate><guid>https://nickyadance.github.io/docs/eng/mysql/isolation/</guid><description>Setup DROP TABLE IF EXISTS IsolationTests; CREATE TABLE IsolationTests ( Col1 INT, Col2 INT, Col3 INT ); INSERT INTO IsolationTests(Col1,Col2,Col3) SELECT 1,2,3 UNION ALL SELECT 1,2,3 UNION ALL SELECT 1,2,3 UNION ALL SELECT 1,2,3 UNION ALL SELECT 1,2,3 UNION ALL SELECT 1,2,3 UNION ALL SELECT 1,2,3 ; Read Uncommitted # -- T1 - T2 SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED; SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED; BEGIN; BEGIN; UPDATE IsolationTests SET Col1 = 2; -- Dirty Read.</description></item></channel></rss>