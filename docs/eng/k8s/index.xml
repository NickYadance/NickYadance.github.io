<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>K8s on</title><link>https://nickyadance.github.io/docs/eng/k8s/</link><description>Recent content in K8s on</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Mon, 12 Sep 2022 18:31:41 +0800</lastBuildDate><atom:link href="https://nickyadance.github.io/docs/eng/k8s/index.xml" rel="self" type="application/rss+xml"/><item><title>Cert</title><link>https://nickyadance.github.io/docs/eng/k8s/cert/</link><pubDate>Mon, 13 Feb 2023 12:23:57 +0800</pubDate><guid>https://nickyadance.github.io/docs/eng/k8s/cert/</guid><description>Public key encryption # A message is encrypted with the intended recipient&amp;rsquo;s public key. For properly chosen and used algorithms, messages cannot in practice be decrypted by anyone who does not possess the matching private key, who is thus presumed to be the owner of that key and so the person associated with the public key. This can be used to ensure confidentiality of a message. Digital signatures # Digital signatures, in which a message is signed with the sender&amp;rsquo;s private key and can be verified by anyone who has access to the sender&amp;rsquo;s public key.</description></item><item><title>Rbac</title><link>https://nickyadance.github.io/docs/eng/k8s/rbac/</link><pubDate>Thu, 15 Sep 2022 22:00:13 +0800</pubDate><guid>https://nickyadance.github.io/docs/eng/k8s/rbac/</guid><description>Serviceaccount with admin role for quick account setup.
--- apiVersion: v1 kind: ServiceAccount metadata: name: airflow-worker namespace: airflow --- apiVersion: rbac.authorization.k8s.io/v1 kind: Role metadata: name: airflow-worker namespace: airflow # Should be namespace you are granting access to rules: - apiGroups: [&amp;quot;&amp;quot;] resources: [&amp;quot;pods&amp;quot;, &amp;quot;pods/log&amp;quot;] verbs: [&amp;quot;get&amp;quot;, &amp;quot;list&amp;quot;] - apiGroups: [&amp;quot;&amp;quot;] resources: [&amp;quot;pods/exec&amp;quot;] verbs: [&amp;quot;create&amp;quot;] --- apiVersion: rbac.authorization.k8s.io/v1 kind: RoleBinding metadata: name: airflow-worker namespace: airflow # Should be namespace you are granting access to roleRef: apiGroup: rbac.</description></item><item><title>Mysql Deploy</title><link>https://nickyadance.github.io/docs/eng/k8s/mysql_deploy/</link><pubDate>Mon, 12 Sep 2022 18:31:51 +0800</pubDate><guid>https://nickyadance.github.io/docs/eng/k8s/mysql_deploy/</guid><description>Single node mysql deployment.
--- apiVersion: v1 # API version kind: Service # Type of kubernetes resource metadata: name: mysql # Name of the resource labels: # Labels that will be applied to the resource app: mysql namespace: airflow spec: ports: - port: 3306 selector: app: mysql clusterIP: 10.96.144.158 --- apiVersion: v1 kind: ConfigMap metadata: name: mysql-config namespace: airflow # Extra configurations # set innodb_lock_wait_timeout=100; data: my.cnf: |- [mysqld] max_connections = 4096 binlog_expire_logs_seconds = 3600 explicit_defaults_for_timestamp = 1 --- apiVersion: apps/v1 kind: Deployment # Type of the kubernetes resource metadata: name: mysql # Name of the deployment labels: # Labels applied to this deployment app: mysql namespace: airflow spec: selector: matchLabels: # This deployment applies to the Pods matching the specified labels app: mysql strategy: type: Recreate template: # Template for the Pods in this deployment metadata: labels: # Labels to be applied to the Pods in this deployment app: mysql spec: # The spec for the containers that will be run inside the Pods in this deployment nodeSelector: database: accept tolerations: - key: node-role.</description></item></channel></rss>